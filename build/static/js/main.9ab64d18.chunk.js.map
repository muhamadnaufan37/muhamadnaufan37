{"version":3,"sources":["pages/registrasi/styles.js","config/firebase.js","components/FirebaseProvider.js","components/AppLoading/styles.js","components/AppLoading/index.js","pages/registrasi/index.js","pages/login/styles.js","pages/login/index.js","pages/lupa-password/styles.js","pages/lupa-password/index.js","pages/404/styles.js","pages/404/index.js","pages/private/styles.js","pages/private/pengaturan/styles/pengguna.js","pages/private/pengaturan/pengguna.js","pages/private/pengaturan/styles/toko.js","components/AppPageLoading/styles.js","components/AppPageLoading/index.js","pages/private/pengaturan/toko.js","pages/private/pengaturan/styles/index.js","pages/private/pengaturan/index.js","pages/private/produk/styles/edit.js","pages/private/produk/edit.js","pages/private/produk/styles/grid.js","pages/private/produk/add.js","utils/formatter.js","pages/private/produk/grid.js","pages/private/produk/index.js","pages/private/transaksi/styles/index.js","pages/private/transaksi/details.js","pages/private/transaksi/index.js","pages/private/home/styles.js","pages/private/home/index.js","pages/private/index.js","components/PrivateRoute.js","config/theme.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","title","textAlign","marginBottom","spacing","paper","marginTop","padding","buttons","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","FirebaseContext","React","createContext","useFirebase","useContext","FirebaseProvider","props","auth","firestore","storage","useAuthState","user","loading","error","Provider","value","children","color","palette","primary","main","loadingBox","display","flexDirection","justifyContent","height","AppLoading","classes","Container","maxWidth","className","Typography","variant","component","LinearProgress","Registrasi","useState","email","password","ulangi_password","form","setForm","setError","isSubmitting","setSubmitting","handleChange","e","target","name","validate","newError","isEmail","handleSubmit","a","preventDefault","findErrors","Object","values","some","err","createUserWithEmailAndPassword","code","to","console","log","Paper","onSubmit","noValidate","TextField","id","type","margin","label","fullWidth","required","onChange","helperText","disabled","Grid","container","item","xs","Button","size","Link","forgotPassword","Login","enqueueSnackbar","useSnackbar","location","signInWithEmailAndPassword","redirecTo","state","from","pathname","LupaPassword","actionCodeSettings","url","window","origin","sendPasswordResetEmail","NotFound","root","toolbar","paddingRight","toolbarIcon","alignItems","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","overflow","paddingTop","paddingBottom","fixedHeight","pengaturanPengguna","Pengguna","displayName","displayNameRef","useRef","emailRef","passwordRef","saveDisplayName","current","updateProfile","updateEmail","emailError","sendEmailVerification","updatePassword","errorPassword","defaultValue","inputProps","ref","onBlur","emailVerified","onClick","autoComplete","pengaturanToko","actionButton","CircularProgress","Toko","tokoDoc","doc","uid","useDocument","nama","alamat","telepon","website","isSomethingChange","setSomethingChange","isURL","set","merge","message","AppPageLoading","multiline","rowsMax","when","tabContent","Pengaturan","history","square","Tabs","indicatorColor","textColor","event","push","Tab","path","hideInputFile","uploadFotoProduk","previewFotoProduk","iconRight","iconLeft","actionButtons","EditProduk","match","produkDoc","params","produkId","produkStorageRef","snapshot","barcode","harga","stok","deskripsi","useEffect","currentForm","data","findErros","handleUploadFile","file","files","includes","foto","reader","FileReader","onabort","onerror","onload","fotoExt","substring","lastIndexOf","fotoRef","child","putString","result","fotoSnapshot","getDownloadURL","fotoUrl","readAsDataURL","justify","sm","src","alt","accept","htmlFor","fab","bottom","right","card","fotoPlaceholder","alignSelf","produkDetails","flex","produkActions","withRouter","open","handleClose","produkCol","collection","setNama","handleSimpan","Error","add","produkBaru","Dialog","disableBackdropClick","disableEscapeKeyDown","onClose","DialogTitle","DialogContent","dividers","DialogActions","numeral","register","delimiters","thousands","decimal","abbreviations","thousand","million","billion","trillion","currency","symbol","locale","number","format","GridProduk","useCollection","produkItems","setProdukItems","openAddDialog","setOpenAddDialog","docs","handleDelete","confirm","delete","fotoURL","refFromURL","paragraph","length","map","produkData","md","lg","Card","CardMedia","image","CardContent","noWrap","CardActions","IconButton","Fab","Produk","transaksiSummary","transaksiActions","DetailsDialog","transaksi","no","Table","TableHead","TableCell","TableBody","items","keys","k","TableRow","jumlah","subtotal","colSpan","total","Transksi","transaksiCol","transaksiItems","setTransaksiItems","details","setDetails","handleOpenDetails","transaksiDoc","transaksiData","Date","timestamp","produkList","backgroundColor","background","maxHeight","inputJumlah","Home","todayDateString","snapshotProduk","loadingProduk","where","snapshotTransaksi","loadingTransaksi","initialTransaksi","tanggal","setTransaksi","filterProduk","setFilterProduk","filter","toLowerCase","addItem","newItem","newItems","reduce","parseInt","handleChangeJumlah","find","simpanTransaksi","now","runTransaction","transaction","produkIDs","Promise","all","produkRef","get","then","exists","newStok","update","InputProps","readOnly","List","subheader","ListSubheader","autoFocus","ListItem","button","ListItemAvatar","Avatar","ListItemIcon","ListItemText","secondary","Private","setOpen","AppBar","clsx","Toolbar","edge","aria-label","signOut","Drawer","Divider","exact","selected","Transaksi","PrivateRoute","Component","restProps","render","createMuiTheme","blue","App","CssBaseline","ThemeProvider","maxSnack","autoHideDuration","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ab64d18.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/styles';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    title: {\r\n        //color: theme.palette.primary.main\r\n        textAlign:'center',\r\n        marginBottom:theme.spacing(3)\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6)\r\n    },\r\n    buttons:{\r\n        marginTop: theme.spacing(6)\r\n    }\r\n}))\r\n\r\n\r\nexport default useStyles;","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n  const firebaseConfig = {\n  apiKey: \"AIzaSyDsUWvd_Y3NmHCRDiUde0UTpVtAiZATnmE\",\n  authDomain: \"belanjakuy-ea0f3.firebaseapp.com\",\n  databaseURL: \"https://belanjakuy-ea0f3-default-rtdb.firebaseio.com\",\n  projectId: \"belanjakuy-ea0f3\",\n  storageBucket: \"belanjakuy-ea0f3.appspot.com\",\n  messagingSenderId: \"136414932358\",\n  appId: \"1:136414932358:web:e0428633b717826c821007\",\n  measurementId: \"G-81MMVDTNVV\"\n};\n\nexport default firebaseConfig;","import React, { useContext } from 'react';\r\n\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nimport firebaseConfig from '../config/firebase';\r\n\r\nimport { useAuthState } from 'react-firebase-hooks/auth'\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n\r\nconst FirebaseContext = React.createContext();\r\n\r\n\r\nexport function useFirebase() {\r\n\r\n    return useContext(FirebaseContext);\r\n}\r\n\r\n\r\nfunction FirebaseProvider(props) {\r\n\r\n    const auth = firebase.auth();\r\n    const firestore = firebase.firestore();\r\n    const storage = firebase.storage();\r\n\r\n    const [user, loading, error] = useAuthState(auth);\r\n\r\n    return <FirebaseContext.Provider value={{\r\n        auth,\r\n        firestore,\r\n        storage,\r\n        user,\r\n        loading,\r\n        error\r\n    }}>\r\n        {props.children}\r\n    </FirebaseContext.Provider>\r\n\r\n}\r\n\r\nexport default FirebaseProvider;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    title: {\n        color: theme.palette.primary.main,\n        textAlign: 'center'\n    },\n\n    loadingBox: {\n        display:'flex',\n        flexDirection:'column',\n        justifyContent:'center',\n        height:'100vh'\n    }\n\n}))\n\n\nexport default useStyles;","import React from 'react';\r\n\r\n\r\n// material-ui\r\n\r\nimport Container from '@material-ui/core/Container'\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nimport useStyles from './styles';\r\n\r\nfunction AppLoading() {\r\n\r\n    const classes = useStyles();\r\n\r\n\r\n    return (\r\n        <Container maxWidth=\"xs\">\r\n            <div className={classes.loadingBox}>\r\n                <Typography\r\n                    variant=\"h6\"\r\n                    component=\"h2\"\r\n                    className={classes.title}\r\n                >\r\n                    Aplikasi Penjualan\r\n                </Typography>\r\n                <LinearProgress />\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default AppLoading;","import React, { useState } from 'react';\n\n// import komponen material-ui\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\n// import styles\nimport useStyles from './styles';\n\n// react router dom\nimport { Link, Redirect } from 'react-router-dom';\n\nimport isEmail from 'validator/lib/isEmail';\n\n// firebase hook\nimport { useFirebase } from '../../components/FirebaseProvider';\n\n// app components\nimport AppLoading from '../../components/AppLoading';\n\nfunction Registrasi() {\n    const classes = useStyles();\n\n    const [form, setForm] = useState({\n        email: '',\n        password: '',\n        ulangi_password: ''\n    });\n\n    const [error, setError] = useState({\n        email: '',\n        password: '',\n        ulangi_password: ''\n    })\n    const [isSubmitting, setSubmitting] = useState(false);\n\n    const { auth, user, loading } = useFirebase();\n\n    const handleChange = e => {\n\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        })\n        setError({\n            ...error,\n            [e.target.name]: ''\n        })\n    }\n\n    const validate = () => {\n\n        const newError = { ...error };\n\n        if (!form.email) {\n            newError.email = 'Email wajib diisi';\n        } else if (!isEmail(form.email)) {\n            newError.email = 'Email tidak valid';\n        }\n\n        if (!form.password) {\n            newError.password = 'Password wajib diisi';\n        }\n\n        if (!form.ulangi_password) {\n            newError.ulangi_password = 'Ulangi Password wajib diisi';\n        } else if (form.ulangi_password !== form.password) {\n            newError.ulangi_password = 'Ulangi Password tidak sama dengan Password';\n        }\n\n        return newError;\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const findErrors = validate();\n\n        if (Object.values(findErrors).some(err => err !== '')) {\n            setError(findErrors);\n\n        } else {\n            try {\n                setSubmitting(true);\n                await auth.createUserWithEmailAndPassword(form.email, form.password)\n            } catch (e) {\n\n                const newError = {};\n\n                switch (e.code) {\n\n                    case 'auth/email-already-in-use':\n                        newError.email = 'Email sudah terdaftar';\n                        break;\n                    case 'auth/invalid-email':\n                        newError.email = 'Email tidak valid';\n                        break;\n                    case 'auth/weak-password':\n                        newError.password = 'Password lemah';\n                        break;\n                    case 'auth/operation-not-allowed':\n                        newError.email = 'Metode email dan password tidak didukung';\n                        break;\n                    default:\n                        newError.email = 'Terjadi kesalahan silahkan coba lagi';\n                        break;\n                }\n\n                setError(newError);\n                setSubmitting(false);\n\n            }\n\n        }\n    }\n\n    if (loading) {\n\n        return <AppLoading />\n    }\n    if (user) {\n\n        return <Redirect to=\"/\" />\n    }\n\n    console.log(user)\n    return <Container maxWidth=\"xs\">\n        <Paper className={classes.paper}>\n            <Typography\n                variant=\"h5\"\n                component=\"h1\"\n                className={classes.title}>Buat Akun Baru</Typography>\n\n            <form onSubmit={handleSubmit} noValidate>\n                <TextField\n                    id=\"email\"\n                    type=\"email\"\n                    name=\"email\"\n                    margin=\"normal\"\n                    label=\"Alamat Email\"\n                    fullWidth\n                    required\n                    value={form.email}\n                    onChange={handleChange}\n                    helperText={error.email}\n                    error={error.email ? true : false}\n                    disabled={isSubmitting}\n                />\n                <TextField\n                    id=\"password\"\n                    type=\"password\"\n                    name=\"password\"\n                    margin=\"normal\"\n                    label=\"Password\"\n                    fullWidth\n                    required\n                    value={form.password}\n                    onChange={handleChange}\n                    helperText={error.password}\n                    error={error.password ? true : false}\n                    disabled={isSubmitting}\n                />\n                <TextField\n                    id=\"ulangi_password\"\n                    type=\"password\"\n                    name=\"ulangi_password\"\n                    margin=\"normal\"\n                    label=\"Confirm Password\"\n                    fullWidth\n                    required\n                    value={form.ulangi_password}\n                    onChange={handleChange}\n                    helperText={error.ulangi_password}\n                    error={error.ulangi_password ? true : false}\n                    disabled={isSubmitting}\n                />\n\n                <Grid container className={classes.buttons}>\n                    <Grid item xs>\n                        <Button\n                            disabled={isSubmitting}\n                            type=\"submit\" color=\"primary\" variant=\"contained\"\n                            size=\"large\"\n                        >Daftar</Button>\n                    </Grid>\n                    <Grid item>\n                        <Button\n                            disabled={isSubmitting}\n                            component={Link}\n                            variant=\"contained\"\n                            size=\"large\"\n                            to=\"/login\"\n                        >Login</Button>\n                    </Grid>\n                </Grid>\n\n\n            </form>\n\n        </Paper>\n    </Container>\n}\n\nexport default Registrasi;","import { makeStyles } from '@material-ui/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        //color: theme.palette.primary.main\n        textAlign:'center',\n        marginBottom:theme.spacing(3)\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        padding: theme.spacing(6)\n    },\n    buttons:{\n        marginTop: theme.spacing(6)\n    },\n    forgotPassword:{\n        marginTop: theme.spacing(3)\n    }\n}))\n\n\nexport default useStyles;","import React, { useState } from 'react';\r\n\r\n// import komponen material-ui\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n// import styles\r\nimport useStyles from './styles';\r\n\r\n// react router dom\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nimport isEmail from 'validator/lib/isEmail';\r\n\r\n// firebase hook\r\nimport { useFirebase } from '../../components/FirebaseProvider';\r\n\r\n// app components\r\nimport AppLoading from '../../components/AppLoading';\r\n\r\nimport { useSnackbar } from 'notistack';\r\n\r\nfunction Login(props) {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const {location} = props;\r\n    const classes = useStyles();\r\n\r\n    const [form, setForm] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    const [error, setError] = useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n    const [isSubmitting, setSubmitting] = useState(false);\r\n\r\n    const { auth, user, loading } = useFirebase();\r\n\r\n    const handleChange = e => {\r\n\r\n        setForm({\r\n            ...form,\r\n            [e.target.name]: e.target.value\r\n        })\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: ''\r\n        })\r\n    }\r\n\r\n    const validate = () => {\r\n\r\n        const newError = { ...error };\r\n\r\n        if (!form.email) {\r\n            newError.email = 'Email wajib diisi';\r\n        } else if (!isEmail(form.email)) {\r\n            newError.email = 'Email tidak valid';\r\n        }\r\n\r\n        if (!form.password) {\r\n            newError.password = 'Password wajib diisi';\r\n        }\r\n        return newError;\r\n    }\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        const findErrors = validate();\r\n\r\n        if (Object.values(findErrors).some(err => err !== '')) {\r\n            setError(findErrors);\r\n\r\n        } else {\r\n            try {\r\n                setSubmitting(true);\r\n                await auth.signInWithEmailAndPassword(form.email, form.password)\r\n                enqueueSnackbar('Berhasil Login', { variant: 'success' })\r\n            } catch (e) {\r\n\r\n                const newError = {};\r\n\r\n                switch (e.code) {\r\n\r\n                    case 'auth/user-not-found':\r\n                        newError.email = enqueueSnackbar('Email Tidak Terdaftar', { variant: 'error' });\r\n                        break;\r\n                    case 'auth/invalid-email':\r\n                        newError.email = enqueueSnackbar('Email Tidak Valid, Harap Cek Kembali', { variant: 'warning' });\r\n                        break;\r\n                    case 'auth/wrong-password':\r\n                        newError.password = enqueueSnackbar('Password Salah, Harap Cek Kembali', { variant: 'warning' });\r\n                        break;\r\n                    case 'auth/user-disabled':\r\n                        newError.email = enqueueSnackbar('Akun Pengguna Telah Di Blokir!!', { variant: 'error' });\r\n                        break;\r\n                    default:\r\n                        newError.email = enqueueSnackbar('Terjadi kesalahan silahkan coba lagi', { variant: 'error' });\r\n                        break;\r\n                }\r\n\r\n                setError(newError);\r\n                setSubmitting(false);\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    if (loading) {\r\n\r\n        return <AppLoading />\r\n    }\r\n    if (user) {\r\n        const redirecTo = location.state && location.state.from && location.state.from.pathname ?\r\n        location.state.from.pathname : '/';\r\n        return <Redirect to={redirecTo} />\r\n    }\r\n\r\n    console.log(user)\r\n    return <Container maxWidth=\"xs\">\r\n        <Paper className={classes.paper}>\r\n            <Typography\r\n                variant=\"h5\"\r\n                component=\"h1\"\r\n                className={classes.title}>Login</Typography>\r\n\r\n            <form onSubmit={handleSubmit} noValidate>\r\n                <TextField\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    margin=\"normal\"\r\n                    label=\"Alamat Email\"\r\n                    fullWidth\r\n                    required\r\n                    value={form.email}\r\n                    onChange={handleChange}\r\n                    helperText={error.email}\r\n                    error={error.email ? true : false}\r\n                    disabled={isSubmitting}\r\n                />\r\n                <TextField\r\n                    id=\"password\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    margin=\"normal\"\r\n                    label=\"Password\"\r\n                    fullWidth\r\n                    required\r\n                    value={form.password}\r\n                    onChange={handleChange}\r\n                    helperText={error.password}\r\n                    error={error.password ? true : false}\r\n                    disabled={isSubmitting}\r\n                />\r\n                \r\n                <Grid container className={classes.buttons}>\r\n                    <Grid item xs>\r\n                        <Button\r\n                            disabled={isSubmitting}\r\n                            type=\"submit\" color=\"primary\" variant=\"contained\"\r\n                            size=\"large\"\r\n                        >Login</Button>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Button\r\n                            disabled={isSubmitting}\r\n                            component={Link}\r\n                            variant=\"contained\"\r\n                            size=\"large\"\r\n                            to=\"/registrasi\"\r\n                        >Daftar Akun</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            <div className={classes.forgotPassword}>\r\n            <Typography component={Link} to=\"lupa-password\">\r\n\r\n                Lupa Password?\r\n\r\n            </Typography>\r\n            </div>\r\n\r\n            </form>\r\n\r\n        </Paper>\r\n    </Container>\r\n}\r\n\r\nexport default Login;","import { makeStyles } from '@material-ui/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        //color: theme.palette.primary.main\n        textAlign:'center',\n        marginBottom:theme.spacing(3)\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        padding: theme.spacing(6)\n    },\n    buttons:{\n        marginTop: theme.spacing(6)\n    }\n}))\n\n\nexport default useStyles;","import React, { useState } from 'react';\n\n// import komponen material-ui\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\n// import styles\nimport useStyles from './styles';\n\n// react router dom\nimport { Link, Redirect } from 'react-router-dom';\n\nimport isEmail from 'validator/lib/isEmail';\n\n// firebase hook\nimport { useFirebase } from '../../components/FirebaseProvider';\n\n// app components\nimport AppLoading from '../../components/AppLoading';\n\n// notistack hook\nimport { useSnackbar } from 'notistack';\n\nfunction LupaPassword() {\n    const classes = useStyles();\n\n    const [form, setForm] = useState({\n        email: ''\n    });\n\n    const [error, setError] = useState({\n        email: ''\n    })\n    const [isSubmitting, setSubmitting] = useState(false);\n\n    const { auth, user, loading } = useFirebase();\n\n    const { enqueueSnackbar } = useSnackbar();\n\n    const handleChange = e => {\n\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        })\n        setError({\n            ...error,\n            [e.target.name]: ''\n        })\n    }\n\n    const validate = () => {\n\n        const newError = { ...error };\n\n        if (!form.email) {\n            newError.email = 'Email wajib diisi';\n        } else if (!isEmail(form.email)) {\n            newError.email = 'Email tidak valid';\n        }\n\n\n        return newError;\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const findErrors = validate();\n\n        if (Object.values(findErrors).some(err => err !== '')) {\n            setError(findErrors);\n\n        } else {\n            try {\n                setSubmitting(true);\n                const actionCodeSettings = {\n\n                    url: `${window.location.origin}/login`\n                }\n                await auth.sendPasswordResetEmail(form.email, actionCodeSettings);\n\n                enqueueSnackbar(`Cek kotak masuk email: ${form.email}, sebuah tautan untuk me-reset password telah dikirim `, {\n                    variant: 'success'\n                })\n                setSubmitting(false);\n            } catch (e) {\n\n                const newError = {};\n\n                switch (e.code) {\n\n                    case 'auth/user-not-found':\n                        newError.email = 'Email tidak terdaftar';\n                        break;\n                    case 'auth/invalid-email':\n                        newError.email = 'Email tidak valid';\n                        break;\n                    default:\n                        newError.email = 'Terjadi kesalahan silahkan coba lagi';\n                        break;\n                }\n\n                setError(newError);\n                setSubmitting(false);\n\n            }\n\n        }\n    }\n\n    if (loading) {\n\n        return <AppLoading />\n    }\n    if (user) {\n\n        return <Redirect to=\"/\" />\n    }\n\n    console.log(user)\n    return <Container maxWidth=\"xs\">\n        <Paper className={classes.paper}>\n            <Typography\n                variant=\"h5\"\n                component=\"h1\"\n                className={classes.title}>Lupa Password</Typography>\n\n            <form onSubmit={handleSubmit} noValidate>\n                <TextField\n                    id=\"email\"\n                    type=\"email\"\n                    name=\"email\"\n                    margin=\"normal\"\n                    label=\"Alamat Email\"\n                    fullWidth\n                    required\n                    value={form.email}\n                    onChange={handleChange}\n                    helperText={error.email}\n                    error={error.email ? true : false}\n                    disabled={isSubmitting}\n                />\n                <Grid container className={classes.buttons}>\n                    <Grid item xs>\n                        <Button\n                            disabled={isSubmitting}\n                            type=\"submit\" color=\"primary\" variant=\"contained\"\n                            size=\"large\"\n                        >Kirim</Button>\n                    </Grid>\n                    <Grid item>\n                        <Button\n                            disabled={isSubmitting}\n                            component={Link}\n                            variant=\"contained\"\n                            size=\"large\"\n                            to=\"/login\"\n                        >Login</Button>\n                    </Grid>\n                </Grid>\n\n\n            </form>\n\n        </Paper>\n    </Container>\n}\n\nexport default LupaPassword;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    paper: {\n        marginTop: theme.spacing(8),\n        padding: theme.spacing(6),\n        textAlign:'center'\n    }\n}))\n\nexport default useStyles;","import React from 'react';\n\n// material-ui\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport { Link } from 'react-router-dom';\n\n// styles\nimport useStyles from './styles';\n\nfunction NotFound() {\n\n    const classes = useStyles();\n    return (\n        <Container maxWidth=\"xs\">\n\n            <Paper className={classes.paper}>\n                <Typography variant=\"subtitle1\">Halaman Tidak Ditemukan</Typography>\n                <Typography variant=\"h3\">404</Typography>\n                <Typography component={Link} to=\"/\">Kembali ke Beranda</Typography>\n            </Paper>\n        </Container>\n    )\n}\n\nexport default NotFound;","\nimport { makeStyles } from '@material-ui/core/styles';\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    toolbar: {\n        paddingRight: 24, // keep right padding when drawer closed\n    },\n    toolbarIcon: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        padding: '0 8px',\n        ...theme.mixins.toolbar,\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    appBarShift: {\n        marginLeft: drawerWidth,\n        width: `calc(100% - ${drawerWidth}px)`,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    menuButton: {\n        marginRight: 36,\n    },\n    menuButtonHidden: {\n        display: 'none',\n    },\n    title: {\n        flexGrow: 1,\n    },\n    drawerPaper: {\n        position: 'relative',\n        whiteSpace: 'nowrap',\n        width: drawerWidth,\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    drawerPaperClose: {\n        overflowX: 'hidden',\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        width: theme.spacing(7),\n        [theme.breakpoints.up('sm')]: {\n            width: theme.spacing(9),\n        },\n    },\n    appBarSpacer: theme.mixins.toolbar,\n    content: {\n        flexGrow: 1,\n        height: '100vh',\n        overflow: 'auto',\n    },\n    container: {\n        paddingTop: theme.spacing(4),\n        paddingBottom: theme.spacing(4),\n    },\n    paper: {\n        padding: theme.spacing(2),\n        display: 'flex',\n        overflow: 'auto',\n        flexDirection: 'column',\n    },\n    fixedHeight: {\n        height: 240,\n    },\n}));\n\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    pengaturanPengguna: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: 300\n    }\n\n}))\n\n\nexport default useStyles;","import React, { useRef, useState } from 'react';\n\n// material ui\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { useFirebase } from '../../../components/FirebaseProvider';\n\n// styles\nimport useStyles from './styles/pengguna';\n\nimport { useSnackbar } from 'notistack';\n\nimport isEmail from 'validator/lib/isEmail';\n\nfunction Pengguna() {\n    const classes = useStyles();\n    const { user } = useFirebase();\n    const [error, setError] = useState({\n        displayName: '',\n        email: '',\n        password: ''\n    })\n    const { enqueueSnackbar } = useSnackbar();\n    const [isSubmitting, setSubmitting] = useState(false);\n    const displayNameRef = useRef();\n    const emailRef = useRef();\n    const passwordRef = useRef();\n\n    const saveDisplayName = async (e) => {\n\n        const displayName = displayNameRef.current.value;\n        console.log(displayName);\n\n        if (!displayName) {\n            setError({\n                displayName: 'Nama wajib diisi'\n            })\n        } else if (displayName !== user.displayName) {\n\n            setError({\n                displayName: ''\n            })\n            setSubmitting(true);\n            await user.updateProfile({\n                displayName\n            })\n            setSubmitting(false);\n            enqueueSnackbar('Data pengguna berhasil diperbarui', { variant: 'success' })\n        }\n    }\n\n    const updateEmail = async (e) => {\n        const email = emailRef.current.value;\n\n        if (!email) {\n            setError({\n                email: 'Email wajib diisi'\n            })\n        }\n        else if (!isEmail(email)) {\n            setError({\n                email: 'Email tidak valid'\n            })\n        }\n        else if (email !== user.email) {\n            setError({\n                email: ''\n            })\n            setSubmitting(true)\n            try {\n                await user.updateEmail(email);\n\n                enqueueSnackbar('Email berhasil diperbarui', { variant: 'success' });\n            }\n            catch (e) {\n                let emailError = '';\n                switch (e.code) {\n                    case 'auth/email-already-in-use':\n                        emailError = 'Email sudah digunakan oleh pengguna lain';\n                        break;\n                    case 'auth/invalid-email':\n                        emailError = 'Email tidak valid';\n                        break;\n                    case 'auth/requires-recent-login':\n                        emailError = \"Silahkan logout, kemudian login kembali untuk memperbarui email\";\n                        break;\n                    default:\n                        emailError = 'Terjadi kesalahan silahkan coba lagi';\n                        break;\n                }\n\n                setError({\n                    email: emailError\n                })\n\n            }\n\n            setSubmitting(false)\n        }\n\n    }\n    const sendEmailVerification = async (e) => {\n\n        const actionCodeSettings = {\n            url: `${window.location.origin}/login`\n        };\n\n        setSubmitting(true);\n        await user.sendEmailVerification(actionCodeSettings);\n        enqueueSnackbar(`Email verifikasi telah dikirim ke ${emailRef.current.value}`, { variant: 'success' });\n        setSubmitting(false);\n    }\n\n    const updatePassword = async (e) => {\n\n        const password = passwordRef.current.value;\n\n        if (!password) {\n\n            setError({\n                password: 'Password wajib diisi'\n            })\n        } else {\n            setSubmitting(true)\n            try {\n\n                await user.updatePassword(password);\n\n                enqueueSnackbar('Password berhasil diperbarui', { variant: 'success' })\n            }\n            catch (e) {\n\n                let errorPassword = '';\n\n                switch (e.code) {\n\n                    case 'auth/weak-password':\n                        errorPassword = 'Password terlalu lemah';\n                        break;\n                    case 'auth/requires-recent-login':\n                        errorPassword = 'Silahkan logout, kemudian login kembali untuk memperbarui password';\n                        break;\n                    default:\n                        errorPassword = 'Terjasi kesalahan silahkan coba lagi';\n                        break;\n\n                }\n\n                setError({\n                    password: errorPassword\n                })\n\n            }\n            setSubmitting(false);\n        }\n\n    }\n    return <div className={classes.pengaturanPengguna}>\n        <TextField\n            id=\"displayName\"\n            name=\"displayName\"\n            label=\"Nama\"\n            margin=\"normal\"\n            defaultValue={user.displayName}\n            inputProps={{\n                ref: displayNameRef,\n                onBlur: saveDisplayName\n            }}\n            disabled={isSubmitting}\n            helperText={error.displayName}\n            error={error.displayName ? true : false}\n        />\n\n        <TextField\n            id=\"email\"\n            name=\"email\"\n            label=\"Email\"\n            type=\"email\"\n            margin=\"normal\"\n            defaultValue={user.email}\n            inputProps={{\n                ref: emailRef,\n                onBlur: updateEmail\n            }}\n            disabled={isSubmitting}\n            helperText={error.email}\n            error={error.email ? true : false}\n\n        />\n\n        {\n            user.emailVerified ?\n                <Typography color=\"primary\" variant=\"subtitle1\">Email Terverifikasi</Typography>\n                :\n                <Button\n                    variant=\"outlined\"\n                    onClick={sendEmailVerification}\n                    disabled={isSubmitting}\n                >\n                    Kirim Email Verifikasi\n                </Button>\n\n        }\n\n        <TextField\n            id=\"password\"\n            name=\"password\"\n            label=\"Password Baru\"\n            type=\"password\"\n            margin=\"normal\"\n            inputProps={{\n                ref: passwordRef,\n                onBlur: updatePassword\n            }}\n            autoComplete=\"new-password\"\n            disabled={isSubmitting}\n            helperText={error.password}\n            error={error.password ? true : false}\n\n        />\n\n    </div>\n}\n\nexport default Pengguna;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    pengaturanToko: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: 300\n    },\n    actionButton: {\n        marginTop: theme.spacing(2)\n    }\n\n}))\n\n\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    loadingBox: {\n        display:'flex',\n        alignItems:'center',\n        justifyContent:'center',\n        height:'50vh'\n    }\n\n}))\n\n\nexport default useStyles;","import React from 'react';\n\n\n// material-ui\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport useStyles from './styles';\n\nfunction AppLoading() {\n\n    const classes = useStyles();\n\n\n    return (\n\n        <div className={classes.loadingBox}>\n            <CircularProgress />\n        </div>\n\n    )\n}\n\nexport default AppLoading;","import React, { useState, useEffect }from 'react';\n\n// material-ui\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\n// styles\nimport useStyles from './styles/toko';\n\n// validtor\nimport isURL from 'validator/lib/isURL';\n\n//firebase hook\nimport { useFirebase } from '../../../components/FirebaseProvider';\nimport { useSnackbar } from 'notistack';\n\nimport { useDocument } from 'react-firebase-hooks/firestore';\n\nimport AppPageLoading from '../../../components/AppPageLoading';\n\n\n\nimport { Prompt } from 'react-router-dom';\n\nfunction Toko(){\n    const classes = useStyles();\n\n    const { firestore, user } = useFirebase();\n\n    const tokoDoc = firestore.doc(`toko/${user.uid}`)\n    const [snapshot, loading] = useDocument(tokoDoc);\n    const { enqueueSnackbar } = useSnackbar();\n    const [form, setForm] = useState({\n        nama: '',\n        alamat: '',\n        telepon: '',\n        website: ''\n    })\n    const [error, setError] = useState({\n        nama: '',\n        alamat: '',\n        telepon: '',\n        website: ''\n    })\n\n    const [isSubmitting, setSubmitting] = useState(false);\n    const [isSomethingChange, setSomethingChange] = useState(false);\n    \n    \n\n    const handleChange = e => {\n\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        })\n        setError({\n            [e.target.name]: ''\n        })\n        \n        setSomethingChange(true);\n    }\n\n    const validate = () => {\n\n        const newError = { ...error };\n\n        if (!form.nama) {\n            newError.nama = 'Nama wajib diisi';\n        }\n\n        if (!form.alamat) {\n            newError.alamat = 'Alamat wajib diisi';\n        }\n\n        if (!form.telepon) {\n            newError.telepon = 'Telepon wajib diisi';\n        }\n\n        if (!form.website) {\n            newError.website = 'Website wajib diisi';\n        } else if (!isURL(form.website)) {\n            newError.website = 'Website tidak valid';\n        }\n        return newError;\n    }\n\n    const handleSubmit = async e => {\n\n        e.preventDefault();\n        const findErrors = validate();\n\n        if (Object.values(findErrors).some(err => err !== '')) {\n            setError(findErrors);\n        } else {\n\n            setSubmitting(true);\n            try {\n                await tokoDoc.set(form, { merge: true });\n                setSomethingChange(false);\n                enqueueSnackbar('Data Toko berhasil di simpan', { variant: 'success' })\n            }\n            catch (e) {\n                enqueueSnackbar(e.message, {\n                    variant:'error'\n                })\n            }\n            setSubmitting(false);\n        }\n\n    }\n\n    if (loading) {\n        return <AppPageLoading/>\n    }\n\n    return <div className={classes.pengaturanToko}>\n        <form onSubmit={handleSubmit} noValidate>\n            <TextField\n                id=\"nama\"\n                name=\"nama\"\n                label=\"Nama Toko\"\n                margin=\"normal\"\n                required\n                fullWidth\n                value={form.nama}\n                onChange={handleChange}\n                error={error.nama ? true : false}\n                helperText={error.nama}\n                disabled={isSubmitting}\n\n            />\n            <TextField\n                id=\"alamat\"\n                name=\"alamat\"\n                label=\"Alamat Toko\"\n                margin=\"normal\"\n                required\n                multiline\n                rowsMax={3}\n                fullWidth\n                value={form.alamat}\n                onChange={handleChange}\n                error={error.alamat ? true : false}\n                helperText={error.alamat}\n                disabled={isSubmitting}\n\n            />\n            <TextField\n                id=\"telepon\"\n                name=\"telepon\"\n                label=\"No Telepon Toko\"\n                margin=\"normal\"\n                required\n                fullWidth\n                value={form.telepon}\n                onChange={handleChange}\n                error={error.telepon ? true : false}\n                helperText={error.telepon}\n                disabled={isSubmitting}\n\n            />\n\n\n            <TextField\n                id=\"website\"\n                name=\"website\"\n                label=\"Website Toko\"\n                margin=\"normal\"\n                value={form.website}\n                required\n                fullWidth\n                onChange={handleChange}\n                error={error.website ? true : false}\n                helperText={error.website}\n                disabled={isSubmitting}\n\n            />\n\n            <Button\n                type=\"submit\"\n                className={classes.actionButton}\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={isSubmitting || !isSomethingChange}\n            >\n                Simpan\n            </Button>\n        </form>\n        <Prompt\n            when={isSomethingChange}\n            message=\"Terdapat perubahan yang belum disimpan, apakah anda yakin ingin meninggalkan halaman ini?\"\n        />\n    </div>\n}\n\nexport default Toko;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    tabContent: {\n        padding: theme.spacing(2)\n    }\n\n}))\n\n\nexport default useStyles;","import React from 'react';\n\n//material-ui\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Paper from '@material-ui/core/Paper';\n\nimport { Switch, Route, Redirect } from 'react-router-dom';\n// komponen halaman pengguna\nimport Pengguna from './pengguna';\nimport Toko from './toko';\n\n// styles\nimport useStyles from './styles';\n\nfunction Pengaturan(props) {\n\n    const { location, history } = props;\n    const classes = useStyles();\n    const handleChangeTab = (event, value) => {\n\n        history.push(value);\n    }\n\n    return (\n        <Paper square>\n            <Tabs\n                value={location.pathname}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                onChange={handleChangeTab}\n            >\n                <Tab label=\"Pengguna\" value=\"/pengaturan/pengguna\" />\n                <Tab label=\"Toko\" value=\"/pengaturan/toko\" />\n            </Tabs>\n            <div className={classes.tabContent}>\n                <Switch>\n                    <Route path=\"/pengaturan/pengguna\" component={Pengguna} />\n                    <Route path=\"/pengaturan/toko\" component={Toko} />\n                    <Redirect to=\"/pengaturan/pengguna\" />\n                </Switch>\n            </div>\n        </Paper>\n    )\n}\n\nexport default Pengaturan;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    hideInputFile: {\n        display: 'none'\n    },\n    uploadFotoProduk: {\n        textAlign: 'center',\n        padding: theme.spacing(3)\n    },\n    previewFotoProduk: {\n        width: '100%',\n        height: 'auto'\n    },\n    iconRight: {\n        marginLeft: theme.spacing(1)\n    },\n    iconLeft: {\n        marginRight: theme.spacing(1)\n    },\n    actionButtons: {\n        paddingTop: theme.spacing(2)\n    }\n\n}))\n\n\nexport default useStyles;","import React, { useState, useEffect } from 'react';\n\n// material-ui\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport SaveIcon from '@material-ui/icons/Save';\n\nimport { useFirebase } from '../../../components/FirebaseProvider';\nimport { useDocument } from 'react-firebase-hooks/firestore';\n\nimport AppPageLoading from '../../../components/AppPageLoading';\nimport { useSnackbar } from 'notistack';\n\nimport useStyles from './styles/edit';\n\nimport { Prompt } from 'react-router-dom';\n\nfunction EditProduk({ match }) {\n    const classes = useStyles();\n    const { firestore, storage, user } = useFirebase();\n    const { enqueueSnackbar } = useSnackbar();\n    const produkDoc = firestore.doc(`toko/${user.uid}/produk/${match.params.produkId}`);\n\n    const produkStorageRef = storage.ref(`toko/${user.uid}/produk`);\n\n    const [snapshot, loading] = useDocument(produkDoc);\n\n    const [form, setForm] = useState({\n        barcode: '',\n        nama: '',\n        harga: 0,\n        stok: 0,\n        deskripsi: ''\n    });\n\n    const [error, setError] = useState({\n        barcode: '',\n        nama: '',\n        harga: '',\n        stok: '',\n        deskripsi: ''\n    })\n\n    const [isSubmitting, setSubmitting] = useState(false);\n\n    const [isSomethingChange, setSomethingChange] = useState(false);\n\n    useEffect(() => {\n\n        if (snapshot) {\n\n            setForm(currentForm => ({\n                ...currentForm,\n                ...snapshot.data()\n            }));\n        }\n    }, [snapshot]);\n\n    const handleChange = e => {\n\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        })\n\n        setError({\n            ...error,\n            [e.target.name]: ''\n        })\n\n        setSomethingChange(true);\n    }\n\n    const validate = () => {\n\n        const newError = { ...error };\n\n        if (!form.nama) {\n            newError.nama = 'Nama Produk wajib diisi';\n        }\n\n        if (!form.harga) {\n            newError.harga = 'Harga Produk wajib diisi';\n        }\n\n        if (!form.stok) {\n            newError.stok = 'Stok Produk wajib diisi';\n        }\n\n        return newError;\n\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n\n        const findErros = validate();\n\n        if (Object.values(findErros).some(err => err !== '')) {\n            setError(findErros);\n        } else {\n            setSubmitting(true);\n            try {\n                await produkDoc.set(form, { merge: true });\n                enqueueSnackbar('Data produk berhasil disimpan', { variant: 'success' })\n                setSomethingChange(false);\n            }\n            catch (e) {\n                enqueueSnackbar(e.message, { variant: 'error' })\n            }\n            setSubmitting(false);\n        }\n\n    }\n\n    const handleUploadFile = async (e) => {\n        const file = e.target.files[0];\n\n        if (!['image/png', 'image/jpeg'].includes(file.type)) {\n\n            setError(error => ({\n                ...error,\n                foto: `Tipe file tidak didukung: ${file.type}`\n            }))\n        }\n        else if (file.size >= 512000) {\n            setError(error => ({\n                ...error,\n                foto: `Ukuran file terlalu besar > 500KB`\n            }))\n        } else {\n\n            const reader = new FileReader();\n\n            reader.onabort = () => {\n\n                setError(error => ({\n                    ...error,\n                    foto: `Proses pembacaan file dibatalkan`\n                }))\n            }\n\n            reader.onerror = () => {\n\n                setError(error => ({\n                    ...error,\n                    foto: 'File tidak bisa dibaca'\n                }))\n            }\n\n            reader.onload = async () => {\n                setError(error => ({\n                    ...error,\n                    foto: ''\n                }))\n                setSubmitting(true);\n                try {\n                    const fotoExt = file.name.substring(file.name.lastIndexOf('.'));\n\n                    const fotoRef = produkStorageRef.child(`${match.params.produkId}${fotoExt}`);\n\n                    const fotoSnapshot = await fotoRef.putString(reader.result, 'data_url');\n\n                    const fotoUrl = await fotoSnapshot.ref.getDownloadURL();\n\n                    setForm(currentForm => ({\n                        ...currentForm,\n                        foto: fotoUrl\n                    }));\n\n                    setSomethingChange(true);\n                } catch (e) {\n                    setError(error => ({\n                        ...error,\n                        foto: e.message\n                    }))\n\n\n                }\n\n                setSubmitting(false);\n\n            }\n\n            reader.readAsDataURL(file);\n\n        }\n    }\n\n    if (loading) {\n\n        return <AppPageLoading />\n    }\n    return <div>\n        <Typography variant=\"h5\" component=\"h1\">Edit Produk: {form.nama}</Typography>\n        <Grid container alignItems=\"center\" justify=\"center\">\n            <Grid item xs={12} sm={6}>\n                <form id=\"produk-form\" onSubmit={handleSubmit} noValidate>\n                    <TextField\n                        id=\"barcode\"\n                        name=\"barcode\"\n                        label=\"Barcode Produk\"\n                        type=\"number\"\n                        margin=\"normal\"\n                        fullWidth\n                        value={form.barcode}\n                        onChange={handleChange}\n                        helperText={error.barcode}\n                        error={error.barcode ? true : false}\n                        disabled={isSubmitting}\n                    />\n                    <TextField\n                        id=\"nama\"\n                        name=\"nama\"\n                        label=\"Nama Produk\"\n                        margin=\"normal\"\n                        fullWidth\n                        required\n                        value={form.nama}\n                        onChange={handleChange}\n                        helperText={error.nama}\n                        error={error.nama ? true : false}\n                        disabled={isSubmitting}\n                    />\n                    <TextField\n                        id=\"harga\"\n                        name=\"harga\"\n                        label=\"Harga Produk\"\n                        type=\"number\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        value={form.harga}\n                        onChange={handleChange}\n                        helperText={error.harga}\n                        error={error.harga ? true : false}\n                        disabled={isSubmitting}\n                    />\n                    <TextField\n                        id=\"stok\"\n                        name=\"stok\"\n                        label=\"Stok Produk\"\n                        type=\"number\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        value={form.stok}\n                        onChange={handleChange}\n                        helperText={error.stok}\n                        error={error.stok ? true : false}\n                        disabled={isSubmitting}\n                    />\n                    <TextField\n                        id=\"deskripsi\"\n                        name=\"deskripsi\"\n                        label=\"Deskripsi Produk\"\n                        margin=\"normal\"\n                        multiline\n                        rowsMax={3}\n                        fullWidth\n                        value={form.deskripsi}\n                        onChange={handleChange}\n                        helperText={error.deskripsi}\n                        error={error.deskripsi ? true : false}\n                        disabled={isSubmitting}\n                    />\n                </form>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n                <div className={classes.uploadFotoProduk}>\n                    {form.foto &&\n                        <img src={form.foto} className={classes.previewFotoProduk} alt={`Foto Produk ${form.nama}`} />}\n                    <input\n                        className={classes.hideInputFile}\n                        type=\"file\"\n                        id=\"upload-foto-produk\"\n                        accept=\"image/jpeg,image/png\"\n                        onChange={handleUploadFile}\n                    />\n                    <label htmlFor=\"upload-foto-produk\">\n                        <Button\n                            disabled={isSubmitting}\n                            variant=\"outlined\"\n                            component=\"span\"\n                        >Upload Foto <UploadIcon className={classes.iconRight} /></Button>\n                    </label>\n                    {error.foto &&\n                        <Typography color=\"error\">\n                            {error.foto}\n                        </Typography>}\n                </div>\n            </Grid>\n            <Grid item xs={12}>\n                <div className={classes.actionButtons}>\n                    <Button\n                        disabled={isSubmitting || !isSomethingChange}\n                        form=\"produk-form\"\n                        type=\"submit\"\n                        color=\"primary\"\n                        variant=\"contained\">\n                        <SaveIcon className={classes.iconLeft} />\n                        Simpan\n                </Button>\n                </div>\n            </Grid>\n        </Grid>\n        <Prompt\n            when={isSomethingChange}\n            message=\"Terdapat perubahan yang belum disimpan, apakah anda yakin ingin meninggalkan halaman ini?\"\n\n        />\n    </div>\n}\n\nexport default EditProduk;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    fab: {\n        position: 'absolute',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2)\n    },\n    card: {\n        display: 'flex'\n    },\n    foto: {\n        width: 150\n    },\n    fotoPlaceholder: {\n        width: 150,\n        alignSelf: 'center',\n        textAlign: 'center'\n    },\n    produkDetails:{\n        flex: '2 0 auto'\n    },\n    produkActions:{\n        flexDirection:'column'\n    }\n}))\n\n\nexport default useStyles;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// material-ui\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useFirebase } from '../../../components/FirebaseProvider';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction AddDialog({ history, open, handleClose }) {\r\n\r\n    const { firestore, user } = useFirebase();\r\n\r\n    const produkCol = firestore.collection(`toko/${user.uid}/produk`);\r\n\r\n    const [nama, setNama] = useState('');\r\n\r\n    const [error, setError] = useState('');\r\n\r\n    const [isSubmitting, setSubmitting] = useState(false);\r\n\r\n    const handleSimpan = async e => {\r\n\r\n        setSubmitting(true);\r\n        try {\r\n\r\n            if (!nama) {\r\n\r\n                throw new Error('Nama Produk wajib diisi');\r\n            }\r\n\r\n            const produkBaru = await produkCol.add({ nama });\r\n\r\n            history.push(`produk/edit/${produkBaru.id}`);\r\n\r\n        } catch (e) {\r\n\r\n            setError(e.message)\r\n\r\n        }\r\n        setSubmitting(false);\r\n    }\r\n    return <Dialog\r\n        disableBackdropClick={isSubmitting}\r\n        disableEscapeKeyDown={isSubmitting}\r\n        open={open}\r\n        onClose={handleClose}\r\n    >\r\n        <DialogTitle>Buat Produk Baru</DialogTitle>\r\n        <DialogContent dividers>\r\n            <TextField\r\n                id=\"nama\"\r\n                label=\"Nama Produk\"\r\n                value={nama}\r\n                onChange={(e) => {\r\n                    setError('');\r\n                    setNama(e.target.value);\r\n                }}\r\n                helperText={error}\r\n                error={error ? true : false}\r\n                disabled={isSubmitting}\r\n            />\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button\r\n                disabled={isSubmitting}\r\n                onClick={handleClose}\r\n            >Batal</Button>\r\n            <Button\r\n                disabled={isSubmitting}\r\n                onClick={handleSimpan} color=\"primary\">Simpan</Button>\r\n        </DialogActions>\r\n    </Dialog>\r\n\r\n}\r\n\r\nAddDialog.propTypes = {\r\n    open: PropTypes.bool.isRequired,\r\n    handleClose: PropTypes.func.isRequired\r\n}\r\n\r\nexport default withRouter(AddDialog);","import numeral from 'numeral';\n\n// rupiah / indonesia (id)\nnumeral.register('locale', 'id', {\n    delimiters: {\n        thousands: '.',\n        decimal: ','\n    },\n    abbreviations: {\n        thousand: 'rb',\n        million: 'jt',\n        billion: 'm',\n        trillion: 't'\n    },\n    currency: {\n        symbol: 'Rp'\n    }\n\n\n})\n\n\nnumeral.locale('id');\n\nexport const currency = (number) => {\n    return numeral(number).format('$0,0');\n}","import React, { useState, useEffect } from 'react';\n\n// material-ui\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport ImageIcon from '@material-ui/icons/Image';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\n//styles\nimport useStyles from './styles/grid';\n\n// page component\nimport AddDialog from './add';\nimport { useFirebase } from '../../../components/FirebaseProvider';\nimport { useCollection } from 'react-firebase-hooks/firestore';\n\nimport AppPageLoading from '../../../components/AppPageLoading';\n\nimport { currency } from '../../../utils/formatter';\n\nimport { Link } from 'react-router-dom';\n\nfunction GridProduk() {\n    const classes = useStyles();\n\n    const { firestore, storage, user } = useFirebase();\n\n    const produkCol = firestore.collection(`toko/${user.uid}/produk`);\n\n    const [snapshot, loading] = useCollection(produkCol);\n\n    const [produkItems, setProdukItems] = useState([]);\n\n    const [openAddDialog, setOpenAddDialog] = useState(false);\n\n    useEffect(() => {\n        if (snapshot) {\n\n            setProdukItems(snapshot.docs);\n        }\n    }, [snapshot]);\n\n    if (loading) {\n\n        return <AppPageLoading />\n    }\n\n    const handleDelete = produkDoc => async e => {\n\n        if (window.confirm('Anda yakin ingin menghapus produk ini?')) {\n\n            await produkDoc.ref.delete();\n            const fotoURL = produkDoc.data().foto;\n            if (fotoURL) {\n\n                await storage.refFromURL(fotoURL).delete();\n            }\n\n        }\n    }\n    return <>\n        <Typography variant=\"h5\" component=\"h1\" paragraph>Daftar Produk</Typography>\n        {\n            produkItems.length <= 0 &&\n            <Typography>Belum ada data produk</Typography>\n        }\n\n        <Grid container spacing={5}>\n\n            {\n                produkItems.map((produkDoc) => {\n                    const produkData = produkDoc.data();\n                    return <Grid key={produkDoc.id} item={true} xs={12} sm={12} md={6} lg={4}>\n                        <Card className={classes.card}>\n                            {\n                                produkData.foto &&\n                                <CardMedia\n                                    className={classes.foto}\n                                    image={produkData.foto}\n                                    title={produkData.nama}\n                                />\n                            }\n\n                            {\n                                !produkData.foto && <div className={classes.fotoPlaceholder}>\n                                    <ImageIcon\n                                        size=\"large\"\n                                        color=\"disabled\"\n                                    />\n                                </div>\n                            }\n                            <CardContent className={classes.produkDetails}>\n                                <Typography variant=\"h5\" noWrap>{produkData.nama}</Typography>\n                                <Typography variant=\"subtitle1\">Harga: {currency(produkData.harga)}</Typography>\n                                <Typography>Stok: {produkData.stok}</Typography>\n                            </CardContent>\n                            <CardActions className={classes.produkActions}>\n                                <IconButton component={Link} to={`/produk/edit/${produkDoc.id}`}>\n                                    <EditIcon />\n                                </IconButton>\n                                <IconButton\n                                    onClick={handleDelete(produkDoc)}\n                                >\n                                    <DeleteIcon />\n                                </IconButton>\n                            </CardActions>\n                        </Card>\n                    </Grid>\n\n                })\n            }\n        </Grid>\n        <Fab\n            className={classes.fab}\n            color=\"primary\"\n            onClick={(e) => {\n                setOpenAddDialog(true);\n            }}\n        >\n            <AddIcon />\n        </Fab>\n\n        <AddDialog\n            open={openAddDialog}\n            handleClose={() => {\n                setOpenAddDialog(false);\n            }}\n        />\n    </>\n}\n\nexport default GridProduk;","import React from 'react';\n\nimport {Switch, Route} from 'react-router-dom';\nimport EditProduk from './edit';\nimport GridProduk from './grid';\n\n\n\nfunction Produk(){\n\n    return (\n        <Switch>\n            <Route path=\"/produk/edit/:produkId\"  component={EditProduk}/>\n            <Route component={GridProduk}/>\n        </Switch>\n    )\n\n}\n\nexport default Produk;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        display: 'flex'\n    },\n    transaksiSummary: {\n        flex: '2 0 auto'\n    },\n    transaksiActions: {\n        flexDirection: 'column'\n    }\n\n}))\n\n\nexport default useStyles;","import React from 'react';\nimport PropTypes from 'prop-types';\n\n//material-ui\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nimport Table from '@material-ui/core/Table';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\n\nimport { currency } from '../../../utils/formatter';\n\nfunction DetailsDialog({ open, handleClose, transaksi }) {\n\n    return <Dialog\n        open={open}\n        onClose={handleClose}\n    >\n        <DialogTitle>Transaksi No: {transaksi.no}</DialogTitle>\n        <DialogContent dividers>\n            <Table>\n                <TableHead>\n                    <TableCell>Item</TableCell>\n                    <TableCell>Jumlah</TableCell>\n                    <TableCell>Harga</TableCell>\n                    <TableCell>Subtotal</TableCell>\n                </TableHead>\n                <TableBody>\n\n                    {transaksi.items &&\n                        Object.keys(transaksi.items).map(k => {\n\n                            const item = transaksi.items[k];\n                            return (\n                                <TableRow key={k}>\n                                    <TableCell>{item.nama}</TableCell>\n                                    <TableCell>\n\n                                        {item.jumlah}\n                                    </TableCell>\n                                    <TableCell>\n                                        {currency(item.harga)}\n                                    </TableCell>\n                                    <TableCell>\n                                        {currency(item.subtotal)}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                        })\n                    }\n\n                    <TableRow>\n                        <TableCell colSpan={3}>\n                            <Typography variant=\"subtitle2\">\n                                Total\n                                </Typography>\n                        </TableCell>\n                        <TableCell>\n                            <Typography variant=\"h6\">\n                                {currency(transaksi.total)}\n                            </Typography></TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">Close</Button>\n        </DialogActions>\n\n    </Dialog>\n}\n\nDetailsDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n    handleClose: PropTypes.func.isRequired,\n    transaksi: PropTypes.object.isRequired\n}\n\nexport default DetailsDialog;","import React, { useState, useEffect } from 'react';\r\n\r\n// material-ui \r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\n//icons\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ViewIcon from '@material-ui/icons/Visibility';\r\n\r\nimport { useFirebase } from '../../../components/FirebaseProvider';\r\n\r\nimport { useCollection } from 'react-firebase-hooks/firestore';\r\nimport { currency } from '../../../utils/formatter';\r\nimport format from 'date-fns/format';\r\n\r\nimport AppPageLoading from '../../../components/AppPageLoading';\r\n\r\nimport useStyles from './styles';\r\n\r\nimport DetailsDialog from './details';\r\n\r\nfunction Transksi() {\r\n    const classes = useStyles();\r\n    const { firestore, user } = useFirebase();\r\n\r\n    const transaksiCol = firestore.collection(`toko/${user.uid}/transaksi`);\r\n\r\n    const [snapshot, loading] = useCollection(transaksiCol);\r\n\r\n    const [transaksiItems, setTransaksiItems] = useState([]);\r\n\r\n    const [details, setDetails] = useState({\r\n        open: false,\r\n        transaksi: {}\r\n    })\r\n\r\n    useEffect(() => {\r\n\r\n        if (snapshot) {\r\n            setTransaksiItems(snapshot.docs);\r\n        }\r\n    }, [snapshot])\r\n\r\n    const handleCloseDetails = (e) => {\r\n\r\n        setDetails({\r\n            open: false,\r\n            transaksi: {}\r\n        })\r\n    }\r\n\r\n    const handleOpenDetails = transaksiDoc => e => {\r\n\r\n        setDetails({\r\n            open: true,\r\n            transaksi: transaksiDoc.data()\r\n        })\r\n    }\r\n\r\n\r\n    const handleDelete = transaksiDoc => async e => {\r\n\r\n        if (window.confirm('Apakah anda yakin ingin menghapus transaksi ini?')) {\r\n            await transaksiDoc.ref.delete();\r\n        }\r\n    }\r\n\r\n    if (loading) {\r\n        return <AppPageLoading />\r\n    }\r\n    return <>\r\n        <Typography component=\"h1\" variant=\"h5\" paragraph>Daftar Transaksi</Typography>\r\n        {\r\n            transaksiItems.length <= 0 &&\r\n            <Typography>Belum ada data transaksi</Typography>\r\n        }\r\n\r\n        <Grid container spacing={5}>\r\n            {\r\n                transaksiItems.map(transaksiDoc => {\r\n                    const transaksiData = transaksiDoc.data();\r\n                    return <Grid key={transaksiDoc.id} item xs={12} sm={12} md={6} lg={4}>\r\n                        <Card className={classes.card}>\r\n                            <CardContent className={classes.transaksiSummary}>\r\n                                <Typography variant=\"h5\" noWrap>No: {transaksiData.no}</Typography>\r\n                                <Typography>Total: {currency(transaksiData.total)}</Typography>\r\n                                <Typography>\r\n                                    Tanggal: {format(new Date(transaksiData.timestamp), 'dd-mm-yyyy hh:mm')}\r\n                                </Typography>\r\n                            </CardContent>\r\n                            <CardActions className={classes.transaksiActions}>\r\n                                <IconButton\r\n                                    onClick={handleOpenDetails(transaksiDoc)}\r\n                                ><ViewIcon /></IconButton>\r\n                                <IconButton onClick={handleDelete(transaksiDoc)}><DeleteIcon /></IconButton>\r\n                            </CardActions>\r\n                        </Card>\r\n                    </Grid>\r\n                })\r\n            }\r\n        </Grid>\r\n        <DetailsDialog\r\n            open={details.open}\r\n            handleClose={handleCloseDetails}\r\n            transaksi={details.transaksi}\r\n        />\r\n    </>\r\n}\r\n\r\nexport default Transksi;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n    produkList: {\n        backgroundColor: theme.palette.background.paper,\n        maxHeight: 500,\n        overflow: 'auto'\n    },\n    inputJumlah: {\n        width: 35\n    },\n    iconLeft: {\n        marginRight: theme.spacing(1)\n    }\n\n}))\n\n\nexport default useStyles;","import React, { useState, useEffect } from 'react';\r\n//material-ui\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\n\r\n//icons\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nimport { useFirebase } from '../../../components/FirebaseProvider';\r\n\r\nimport { useCollection } from 'react-firebase-hooks/firestore';\r\n\r\nimport AppPageLoading from '../../../components/AppPageLoading';\r\n\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport { currency } from '../../../utils/formatter';\r\nimport format from 'date-fns/format';\r\n\r\nimport useStyles from './styles';\r\nfunction Home() {\r\n    const classes = useStyles();\r\n    const { firestore, user } = useFirebase();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const todayDateString = format(new Date(), 'yyyy-mm-dd');\r\n    const produkCol = firestore.collection(`toko/${user.uid}/produk`);\r\n    const transaksiCol = firestore.collection(`toko/${user.uid}/transaksi`);\r\n    const [snapshotProduk, loadingProduk] = useCollection(produkCol);\r\n    const [snapshotTransaksi, loadingTransaksi] = useCollection(transaksiCol.where('tanggal', '==', todayDateString));\r\n    const initialTransaksi = {\r\n        no: '',\r\n        items: {\r\n\r\n        },\r\n        total: 0,\r\n        tanggal: todayDateString\r\n    };\r\n    const [transaksi, setTransaksi] = useState(initialTransaksi);\r\n    const [produkItems, setProdukItems] = useState([]);\r\n    const [filterProduk, setFilterProduk] = useState('');\r\n    const [isSubmitting, setSubmitting] = useState(false);\r\n\r\n    useEffect(() => {\r\n\r\n        if (snapshotTransaksi) {\r\n            setTransaksi(transaksi => ({\r\n                ...transaksi,\r\n                no: `${transaksi.tanggal}/${snapshotTransaksi.docs.length + 1}`\r\n            }))\r\n        } else {\r\n            setTransaksi(transaksi => ({\r\n                ...transaksi,\r\n                no: `${transaksi.tanggal}/1`\r\n            }))\r\n        }\r\n\r\n    }, [snapshotTransaksi])\r\n    useEffect(() => {\r\n\r\n        if (snapshotProduk) {\r\n\r\n            setProdukItems(snapshotProduk.docs.filter((produkDoc) => {\r\n\r\n                if (filterProduk) {\r\n                    return produkDoc.data().nama.toLowerCase().includes(filterProduk.toLowerCase());\r\n                }\r\n\r\n                return true;\r\n\r\n\r\n            }));\r\n        }\r\n    }, [snapshotProduk, filterProduk])\r\n\r\n    const addItem = produkDoc => e => {\r\n        let newItem = { ...transaksi.items[produkDoc.id] };\r\n        const produkData = produkDoc.data();\r\n\r\n        if (newItem.jumlah) {\r\n            newItem.jumlah = newItem.jumlah + 1;\r\n            newItem.subtotal = produkData.harga * newItem.jumlah;\r\n        } else {\r\n            newItem.jumlah = 1;\r\n            newItem.harga = produkData.harga;\r\n            newItem.subtotal = produkData.harga;\r\n            newItem.nama = produkData.nama;\r\n        }\r\n\r\n        const newItems = {\r\n            ...transaksi.items,\r\n            [produkDoc.id]: newItem\r\n        };\r\n        if (newItem.jumlah > produkData.stok) {\r\n\r\n            enqueueSnackbar('Jumlah melebihi stok produk', { variant: 'error' })\r\n        } else {\r\n\r\n            setTransaksi({\r\n                ...transaksi,\r\n                items: newItems,\r\n                total: Object.keys(newItems).reduce((total, k) => {\r\n                    const item = newItems[k];\r\n                    return total + parseInt(item.subtotal);\r\n                }, 0)\r\n\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const handleChangeJumlah = k => e => {\r\n\r\n        let newItem = { ...transaksi.items[k] };\r\n\r\n        newItem.jumlah = parseInt(e.target.value);\r\n        newItem.subtotal = newItem.harga * newItem.jumlah;\r\n\r\n        const newItems = {\r\n            ...transaksi.items,\r\n            [k]: newItem\r\n        };\r\n\r\n        const produkDoc = produkItems.find(item => item.id === k);\r\n        const produkData = produkDoc.data()\r\n        if (newItem.jumlah > produkData.stok) {\r\n\r\n            enqueueSnackbar('Jumlah melebihi stok produk', { variant: 'error' })\r\n        } else {\r\n\r\n            setTransaksi({\r\n                ...transaksi,\r\n                items: newItems,\r\n                total: Object.keys(newItems).reduce((total, k) => {\r\n                    const item = newItems[k];\r\n                    return total + parseInt(item.subtotal);\r\n                }, 0)\r\n\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const simpanTransaksi = async (e) => {\r\n\r\n        if (Object.keys(transaksi.items).length <= 0) {\r\n            enqueueSnackbar('Tidak ada transaksi untuk disimpan', { variant: 'error' });\r\n            return false;\r\n        }\r\n\r\n        setSubmitting(true);\r\n        try {\r\n            await transaksiCol.add({\r\n                ...transaksi,\r\n                timestamp: Date.now()\r\n            })\r\n\r\n            // update stok produk menggunakan transactions\r\n\r\n            await firestore.runTransaction(transaction => {\r\n\r\n                const produkIDs = Object.keys(transaksi.items);\r\n\r\n                return Promise.all(produkIDs.map(produkId => {\r\n\r\n                    const produkRef = firestore.doc(`toko/${user.uid}/produk/${produkId}`);\r\n\r\n                    return transaction.get(produkRef).then((produkDoc) => {\r\n\r\n                        if (!produkDoc.exists) {\r\n                            throw Error('Produk tidak ada');\r\n                        }\r\n\r\n                        let newStok = parseInt(produkDoc.data().stok) - parseInt(transaksi.items[produkId].jumlah);\r\n\r\n                        if (newStok < 0) {\r\n                            newStok = 0;\r\n                        }\r\n\r\n                        transaction.update(produkRef, { stok: newStok });\r\n\r\n                    })\r\n                }));\r\n            })\r\n\r\n\r\n            enqueueSnackbar('Transaksi berhasil di simpan', { variant: 'success' });\r\n            setTransaksi(transaksi => ({\r\n                ...initialTransaksi,\r\n                no: transaksi.no\r\n            }));\r\n        }\r\n        catch (e) {\r\n\r\n            enqueueSnackbar(e.message, { variant: 'error' });\r\n        }\r\n\r\n        setSubmitting(false);\r\n    }\r\n\r\n    if (loadingProduk || loadingTransaksi) {\r\n\r\n        return <AppPageLoading />\r\n    }\r\n\r\n    return <>\r\n\r\n        <Typography variant=\"h5\" component=\"h1\" paragraph>Buat Transaksi Baru</Typography>\r\n        <Grid container spacing={5}>\r\n            <Grid item xs>\r\n                <TextField\r\n                    label=\"No Transaksi\"\r\n                    value={transaksi.no}\r\n                    InputProps={{\r\n                        readOnly: true\r\n                    }}\r\n                />\r\n            </Grid>\r\n            <Grid item>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={simpanTransaksi}\r\n                    disabled={isSubmitting}\r\n                >\r\n                    <SaveIcon className={classes.iconLeft} />\r\n                    Simpan Transaksi\r\n                </Button>\r\n            </Grid>\r\n        </Grid>\r\n        <Grid container spacing={5}>\r\n            <Grid item xs={12} md={8}>\r\n                <Table>\r\n                    <TableHead>\r\n                        <TableCell>Item</TableCell>\r\n                        <TableCell>Jumlah</TableCell>\r\n                        <TableCell>Harga</TableCell>\r\n                        <TableCell>Subtotal</TableCell>\r\n                    </TableHead>\r\n                    <TableBody>\r\n\r\n                        {\r\n                            Object.keys(transaksi.items).map(k => {\r\n\r\n                                const item = transaksi.items[k];\r\n                                return (\r\n                                    <TableRow key={k}>\r\n                                        <TableCell>{item.nama}</TableCell>\r\n                                        <TableCell>\r\n\r\n                                            <TextField\r\n                                                disabled={isSubmitting}\r\n                                                className={classes.inputJumlah}\r\n                                                value={item.jumlah}\r\n                                                type=\"number\"\r\n                                                onChange={handleChangeJumlah(k)}\r\n                                            />\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            {currency(item.harga)}\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            {currency(item.subtotal)}\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                )\r\n                            })\r\n                        }\r\n\r\n                        <TableRow>\r\n                            <TableCell colSpan={3}>\r\n                                <Typography variant=\"subtitle2\">\r\n                                    Total\r\n                                </Typography>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <Typography variant=\"h6\">\r\n                                    {currency(transaksi.total)}\r\n                                </Typography></TableCell>\r\n                        </TableRow>\r\n                    </TableBody>\r\n                </Table>\r\n            </Grid>\r\n            <Grid item\r\n                xs={12} md={4}>\r\n                <List\r\n                    className={classes.produkList}\r\n                    component=\"nav\"\r\n                    subheader={\r\n                        <ListSubheader component=\"div\">\r\n                            <TextField\r\n                                autoFocus\r\n                                label=\"Cari Produk\"\r\n                                fullWidth\r\n                                margin=\"normal\"\r\n                                onChange={e => {\r\n                                    setFilterProduk(e.target.value);\r\n                                }}\r\n                            />\r\n                        </ListSubheader>\r\n                    }\r\n                >\r\n                    {\r\n                        produkItems.map((produkDoc) => {\r\n                            const produkData = produkDoc.data();\r\n                            return <ListItem\r\n                                key={produkDoc.id}\r\n                                button\r\n                                disabled={!produkData.stok || isSubmitting}\r\n                                onClick={addItem(produkDoc)}\r\n                            >\r\n\r\n                                {\r\n                                    produkData.foto ?\r\n                                        <ListItemAvatar>\r\n                                            <Avatar\r\n                                                src={produkData.foto}\r\n                                                alt={produkData.nama}\r\n                                            />\r\n                                        </ListItemAvatar>\r\n                                        :\r\n                                        <ListItemIcon>\r\n                                            <ImageIcon />\r\n                                        </ListItemIcon>\r\n\r\n                                }\r\n\r\n                                <ListItemText\r\n                                    primary={produkData.nama}\r\n                                    secondary={`Stok: ${produkData.stok || 0}`}\r\n                                />\r\n                            </ListItem>\r\n                        })\r\n                    }\r\n                </List>\r\n            </Grid>\r\n        </Grid>\r\n\r\n    </>\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport clsx from 'clsx';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Container from '@material-ui/core/Container';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport SignOutIcon from '@material-ui/icons/ExitToApp';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport StoreIcon from '@material-ui/icons/Store';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\n\r\n//styles\r\nimport useStyles from './styles';\r\n\r\n//react router \r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\n// komponen halaman private\r\nimport Pengaturan from './pengaturan';\r\nimport Produk from './produk';\r\nimport Transaksi from './transaksi';\r\nimport Home from './home';\r\n\r\n//firebase hook\r\nimport { useFirebase } from '../../components/FirebaseProvider';\r\n\r\nimport { useSnackbar } from 'notistack';\r\n\r\nexport default function Private() {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const { auth } = useFirebase();\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleSignOut = (e) => {\r\n\r\n        if (window.confirm('Apakah anda yakin ingin keluar dari aplikasi?'))\r\n            auth.signOut();\r\n            enqueueSnackbar('Berhasil Logout', { variant: 'success' })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n            <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n                <Toolbar className={classes.toolbar}>\r\n                    <IconButton\r\n                        edge=\"start\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"Open drawer\"\r\n                        onClick={handleDrawerOpen}\r\n                        className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                    <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n                        <Switch>\r\n                            <Route path=\"/produk\" children=\"Produk\" />\r\n                            <Route path=\"/transaksi\" children=\"Transaksi\" />\r\n                            <Route path=\"/pengaturan\" children=\"Pengaturan\" />\r\n                            <Route children=\"Home\" />\r\n\r\n                        </Switch>\r\n                    </Typography>\r\n                    <IconButton\r\n                        onClick={handleSignOut}\r\n                        color=\"inherit\">\r\n\r\n                        <SignOutIcon />\r\n\r\n                    </IconButton>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Drawer\r\n                variant=\"permanent\"\r\n                classes={{\r\n                    paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n                }}\r\n                open={open}\r\n            >\r\n                <div className={classes.toolbarIcon}>\r\n                    <IconButton onClick={handleDrawerClose}>\r\n                        <ChevronLeftIcon />\r\n                    </IconButton>\r\n                </div>\r\n                <Divider />\r\n                <List>\r\n                    <Route path=\"/\" exact children={({ match, history }) => {\r\n\r\n                        return <ListItem\r\n                            button\r\n                            selected={match ? true : false}\r\n                            onClick={() => {\r\n                                history.push('/')\r\n                            }}\r\n                        >\r\n                            <ListItemIcon>\r\n                                <HomeIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Home\" />\r\n                        </ListItem>\r\n\r\n                    }} />\r\n\r\n                    <Route path=\"/produk\" children={({ match, history }) => {\r\n\r\n                        return <ListItem\r\n                            button\r\n                            selected={match ? true : false}\r\n                            onClick={() => {\r\n                                history.push('/produk')\r\n                            }}\r\n                        >\r\n                            <ListItemIcon>\r\n                                <StoreIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Produk\" />\r\n                        </ListItem>\r\n\r\n                    }} />\r\n\r\n                    <Route path=\"/transaksi\" children={({ match, history }) => {\r\n\r\n                        return <ListItem\r\n                            button\r\n                            selected={match ? true : false}\r\n                            onClick={() => {\r\n                                history.push('/transaksi')\r\n                            }}\r\n                        >\r\n                            <ListItemIcon>\r\n                                <ShoppingCartIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Transaksi\" />\r\n                        </ListItem>\r\n\r\n                    }} />\r\n                    <Route path=\"/pengaturan\" children={({ match, history }) => {\r\n\r\n                        return <ListItem\r\n                            button\r\n                            selected={match ? true : false}\r\n                            onClick={() => {\r\n                                history.push('/pengaturan')\r\n                            }}\r\n                        >\r\n                            <ListItemIcon>\r\n                                <SettingsIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Pengaturan\" />\r\n                        </ListItem>\r\n\r\n                    }} />\r\n\r\n\r\n\r\n                </List>\r\n            </Drawer>\r\n            <main className={classes.content}>\r\n                <div className={classes.appBarSpacer} />\r\n                <Container maxWidth=\"lg\" className={classes.container}>\r\n\r\n                    <Switch>\r\n                        <Route path=\"/pengaturan\" component={Pengaturan} />\r\n                        <Route path=\"/produk\" component={Produk} />\r\n                        <Route path=\"/transaksi\" component={Transaksi} />\r\n                        <Route component={Home} />\r\n                    </Switch>\r\n\r\n                </Container>\r\n\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport { useFirebase } from './FirebaseProvider';\r\n\r\n\r\nfunction PrivateRoute({ component: Component, ...restProps }) {\r\n\r\n    const { user } = useFirebase();\r\n    return <Route\r\n        {...restProps}\r\n\r\n        render={props => {\r\n\r\n            return user ?\r\n                <Component {...props} />\r\n                :\r\n                <Redirect to={{\r\n                    pathname: '/login',\r\n                    state:{\r\n                        from : props.location\r\n                    }\r\n                }} />\r\n        }}\r\n\r\n    />\r\n}\r\n\r\nexport default PrivateRoute;","import { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\n\nconst theme = createMuiTheme({\n\n    palette: {\n        primary: blue\n    }\n\n})\n\nexport default theme;","import React from 'react';\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\n// komponen halaman\nimport Registrasi from './pages/registrasi';\nimport Login from './pages/login';\nimport LupaPassword from './pages/lupa-password';\nimport NotFound from './pages/404';\nimport Private from './pages/private';\nimport PrivateRoute from './components/PrivateRoute';\n\n// firebase context provider\nimport FirebaseProvider from './components/FirebaseProvider';\n\n// import komponen material-ui\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport ThemeProvider from '@material-ui/styles/ThemeProvider';\nimport theme from './config/theme';\n\nimport {SnackbarProvider} from 'notistack';\n\nfunction App() {\n  return (\n    <>\n    <CssBaseline />\n    <ThemeProvider theme={theme}>\n    <SnackbarProvider maxSnack={3} autoHideDuration={3000}>\n    <FirebaseProvider >\n    <Router>\n      <Switch>\n        <PrivateRoute path=\"/\" exact component={Private}/>\n        <PrivateRoute path=\"/pengaturan\" component={Private}/>\n        <PrivateRoute path=\"/produk\" component={Private}/>\n        <PrivateRoute path=\"/transaksi\" component={Private}/>\n        <Route path=\"/registrasi\" component={Registrasi}/>\n        <Route path=\"/login\" component={Login}/>\n        <Route path=\"/lupa-password\" component={LupaPassword}/>\n        <Route component={NotFound}/>\n      </Switch>\n      \n    </Router>\n    </FirebaseProvider>\n    </SnackbarProvider>\n    </ThemeProvider>\n  </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}